"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[543,263],{1263:function(n,e,t){t.r(e),t.d(e,{PhoneBookPage:function(){return on},default:function(){return cn}});var r,i,a,o,c,d,s,u,l,p,x,m,h=t(168),f=t(5048),g=t(1799),w=t(6031),b=t(184),Z=w.ZP.label(r||(r=(0,h.Z)(["\n  margin-bottom: 50px;\n\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 10px;\n\n  font-weight: 600;\n  & input {\n    margin-left: 15px;\n  }\n"]))),v=function(){var n=(0,f.v9)((function(n){return n.filter})),e=(0,f.I0)();return(0,b.jsxs)(Z,{children:["Find contacts by name",(0,b.jsx)("input",{type:"text",onChange:function(n){return e((0,g.ko)(n.target.value))},value:n})]})},j=t(885),y=t(2791),P=t(6856),C=t(8820),k=w.ZP.li(i||(i=(0,h.Z)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  column-gap: 30px;\n\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  @media (max-width: 450px) {\n    column-gap: 15px;\n  }\n"]))),z=w.ZP.span(a||(a=(0,h.Z)(["\n  font-weight: 600;\n  font-size: 1em;\n"]))),L=w.ZP.a(o||(o=(0,h.Z)(["\n  white-space: nowrap;\n  color: inherit;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  column-gap: 7px;\n"]))),S=w.ZP.button(c||(c=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 10px;\n\n  width: 100%;\n  max-width: 100px;\n  height: 35px;\n  padding: 5px;\n  background-color: var(--button-color);\n  color: white;\n  cursor: pointer;\n  user-select: none;\n  border: solid 1px black;\n  border-radius: 3px;\n\n  justify-self: end;\n\n  @media (max-width: 450px) {\n    width: 40px;\n    font-size: 22px;\n    & span {\n      display: none;\n    }\n  }\n"]))),N=t(4164),A=w.ZP.div(d||(d=(0,h.Z)(["\n  position: fixed;\n  z-index: 3;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 50px;\n  background-color: rgba(0, 0, 0, 0.466);\n"]))),E=w.ZP.div(s||(s=(0,h.Z)(["\n  position: absolute;\n  width: 100%;\n  max-width: 100vw;\n  max-height: 100vh;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  @media screen and (min-width: 768px) {\n    max-width: 768px;\n  }\n\n  @media screen and (min-width: 1200px) {\n    max-width: 1200px;\n  }\n"]))),_=function(n){var e=n.onClose,t=n.children;(0,y.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(n){"Escape"===n.code&&e()};return(0,N.createPortal)((0,b.jsx)(A,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,b.jsxs)(E,{children:[t,(0,b.jsx)("button",{type:"button",onClick:function(){return e()},children:"X"})]})}),document.getElementById("modal-portal"))},F=w.ZP.form(u||(u=(0,h.Z)(["\n  padding: 5px;\n\n  display: grid;\n  grid-template-areas:\n    'rowName buttonSubmit'\n    'rowNumber buttonSubmit';\n\n  grid-gap: 20px;\n\n  @media (max-width: 480px) {\n    grid-gap: 10px;\n    grid-template-areas:\n      'rowName '\n      'rowNumber'\n      'buttonSubmit';\n  }\n"]))),I=w.ZP.label(l||(l=(0,h.Z)(["\n  display: inline-flex;\n  justify-content: space-between;\n  column-gap: 20px;\n\n  font-weight: 700;\n  font-size: 1.5em;\n\n  & input {\n    width: 100%;\n    max-width: 300px;\n    min-width: 175px;\n  }\n"]))),B=(0,w.ZP)(I)(p||(p=(0,h.Z)(["\n  grid-area: rowName;\n"]))),D=(0,w.ZP)(I)(x||(x=(0,h.Z)(["\n  grid-area: rowNumber;\n"]))),T=w.ZP.button(m||(m=(0,h.Z)(["\n  grid-area: buttonSubmit;\n  margin-left: auto;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 20px;\n\n  padding: 5px 15px;\n  width: 100%;\n  max-width: 200px;\n\n  font-size: 20px;\n  color: white;\n  background-color: var(--button-color);\n\n  user-select: none;\n  border: solid 1px black;\n  border-radius: 3px;\n  cursor: pointer;\n\n  & svg {\n    width: 30px;\n    height: 30px;\n  }\n\n  @media (max-width: 768px) {\n    font-size: 16px;\n    column-gap: 10px;\n  }\n\n  @media (max-width: 550px) {\n    & span {\n      display: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    font-size: 16px;\n    width: 60px;\n    height: 60px;\n  }\n"]))),q=t(1413),M=t(6140),R=function(n){return M.ZP.error(n)},$=function(n){return M.ZP.success(n)},J=function(n){var e=n.contactId,t=n.closeForm,r=n.name,i=n.number,a=(0,f.v9)(g.Rg.endpoints.getAllContacts.select()).data,o=(0,y.useState)(r),c=(0,j.Z)(o,2),d=c[0],s=c[1],u=(0,y.useState)(i),l=(0,j.Z)(u,2),p=l[0],x=l[1],m=(0,g.Lr)(),h=(0,j.Z)(m,1)[0],w=(0,g.i)(),b=(0,j.Z)(w,1)[0];return[d,s,p,x,function(n){n.preventDefault();var r=null===a||void 0===a?void 0:a.find((function(n){var e=n.name;return n.number===p&&e.toLowerCase()===d.toLowerCase()})),i=null===a||void 0===a?void 0:a.find((function(n){return n.name.toLowerCase()===d.toLowerCase()})),o={name:d,number:p};e?r?R("Contact is already exist!"):function(n){b((0,q.Z)({id:e},n)).unwrap().then((function(){return $("".concat(d," updated"))})).catch((function(n){return R("Something went wrong. Eroor: ".concat(n.status))})),t()}(o):e||(i?R("".concat(d," already exist!")):function(n){h(n).unwrap().then((function(){return $("New contact for ".concat(d," added"))})).catch((function(n){return R("Something went wrong. Eroor: ".concat(n.status))})),s(""),x("")}(o))}]};function K(n){var e=n.contactId,t=n.closeForm,r=n.name,i=void 0===r?"":r,a=n.number,o=J({contactId:e,closeForm:t,name:i,number:void 0===a?"":a}),c=(0,j.Z)(o,5),d=c[0],s=c[1],u=c[2],l=c[3],p=c[4];return(0,b.jsxs)(F,{onSubmit:p,children:[(0,b.jsxs)(B,{children:["Name",(0,b.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only contain letters, an apostrophe, a dash, and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan, etc.",onChange:function(n){return s(n.target.value)},value:d,required:!0})]}),(0,b.jsxs)(D,{children:["Phone",(0,b.jsx)("input",{type:"tel",name:"number",onChange:function(n){return l(n.target.value)},value:u,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"The phone number must be numeric and may contain spaces, dashes, parentheses, and may begin with +",required:!0})]}),(0,b.jsx)("br",{}),(0,b.jsx)(T,{type:"submit",children:e?(0,b.jsx)("span",{children:"Save changes"}):(0,b.jsxs)("span",{children:[(0,b.jsx)(P.$3V,{})," Add contact"]})})]})}var Q,V,X,Y,G,H,O=function(n){var e=n.contact,t=e.id,r=e.name,i=e.number,a=(0,y.useState)(!1),o=(0,j.Z)(a,2),c=o[0],d=o[1],s=(0,g.Nt)(),u=(0,j.Z)(s,2),l=u[0],p=u[1].isLoading;return(0,b.jsxs)(k,{id:t,children:[(0,b.jsxs)(z,{children:[r,":"]}),(0,b.jsxs)(L,{href:"tel: "+i,children:[(0,b.jsx)(P.twy,{})," ",i]}),(0,b.jsxs)(S,{type:"button",onClick:function(){return l(t).then((function(){return n="".concat(r," successfuly deleted!"),M.ZP.success(n);var n})).catch((function(){return n="Something went wrong",M.ZP.error(n);var n}))},disabled:p,children:[(0,b.jsx)(C.YK6,{})," ",(0,b.jsx)("span",{children:p?"...Deleting":"Delete"})]}),(0,b.jsxs)(S,{type:"button",onClick:function(){return d(!c)},children:[(0,b.jsx)(C.QML,{})," ",(0,b.jsx)("span",{children:"Edit"})]}),c&&(0,b.jsx)(_,{onClose:d,children:(0,b.jsx)(K,{closeForm:d,contactId:t,name:r,number:i})})]})},U=t(9070),W=w.ZP.ul(Q||(Q=(0,h.Z)(["\n  width: 100%;\n  max-width: 440px;\n  margin: 0 auto;\n"]))),nn=function(){var n=(0,f.v9)(U.Rg.endpoints.getAllContacts.select()).data,e=(0,f.v9)((function(n){return n.filter}));return(0,b.jsx)(W,{children:function(){var t=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))}().map((function(n){return(0,b.jsx)(O,{contact:n},n.id)}))})},en=(w.ZP.div(V||(V=(0,h.Z)(["\n  margin: 50px auto;\n  border: solid 1px black;\n  max-width: 800px;\n  padding: 30px;\n"]))),(0,w.iv)(X||(X=(0,h.Z)(["\n  text-align: center;\n  margin-bottom: 45px;\n"])))),tn=w.ZP.h1(Y||(Y=(0,h.Z)(["\n  font-size: 24px;\n\n  ","\n"])),en),rn=w.ZP.h1(G||(G=(0,h.Z)(["\n  font-size: 18px;\n\n  ","\n"])),en),an=w.ZP.section(H||(H=(0,h.Z)(["\n  background-color: rgb(208, 213, 247);\n  padding: 25px;\n  border-radius: 5px;\n"]))),on=function(){var n=(0,g.bC)(),e=n.isLoading,t=n.isSuccess;return(0,b.jsxs)("main",{children:[(0,b.jsx)(tn,{children:"Phone book"}),(0,b.jsx)(K,{}),e&&(0,b.jsx)("p",{children:"...Loading"}),t&&(0,b.jsxs)(an,{children:[(0,b.jsx)(rn,{children:"\u0421ontacts"}),(0,b.jsx)(v,{}),(0,b.jsx)(nn,{})]})]})},cn=on},1543:function(n,e,t){t.r(e),t.d(e,{default:function(){return r.default}});var r=t(1263)}}]);
//# sourceMappingURL=543.cdf869ce.chunk.js.map