"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[543,795],{2702:function(n,e,t){t.d(e,{W:function(){return u},H1:function(){return p},H2:function(){return x},$:function(){return h}});var r,i,o,a,d,c=t(168),s=t(7939),u=s.ZP.div(r||(r=(0,c.Z)(["\n  margin: 50px auto;\n  border: solid 1px black;\n  max-width: 800px;\n  padding: 30px;\n"]))),l=(0,s.iv)(i||(i=(0,c.Z)(["\n  text-align: center;\n  margin-bottom: 45px;\n"]))),p=s.ZP.h1(o||(o=(0,c.Z)(["\n  font-size: 24px;\n\n  ","\n"])),l),x=s.ZP.h1(a||(a=(0,c.Z)(["\n  font-size: 18px;\n\n  ","\n"])),l),h=s.ZP.section(d||(d=(0,c.Z)(["\n  background-color: rgb(208, 213, 247);\n  padding: 25px;\n  border-radius: 5px;\n"])))},9795:function(n,e,t){t.r(e),t.d(e,{PhoneBookPage:function(){return Y},default:function(){return G}});var r,i,o,a,d,c,s,u,l,p,x,h,m,f=t(168),g=t(5048),w=t(1799),b=t(7939),Z=t(184),v=b.ZP.label(r||(r=(0,f.Z)(["\n  margin-bottom: 50px;\n\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 10px;\n\n  font-weight: 600;\n  & input {\n    margin-left: 15px;\n  }\n"]))),j=function(){var n=(0,g.v9)((function(n){return n.filter})),e=(0,g.I0)();return(0,Z.jsxs)(v,{children:["Find contacts by name",(0,Z.jsx)("input",{type:"text",onChange:function(n){return e((0,w.ko)(n.target.value))},value:n})]})},y=t(885),C=t(2791),P=t(6856),k=t(8820),S=b.ZP.li(i||(i=(0,f.Z)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  column-gap: 30px;\n\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  @media (max-width: 450px) {\n    column-gap: 15px;\n  }\n"]))),E=b.ZP.span(o||(o=(0,f.Z)(["\n  font-weight: 600;\n  font-size: 1em;\n"]))),L=b.ZP.a(a||(a=(0,f.Z)(["\n  white-space: nowrap;\n  color: inherit;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  column-gap: 7px;\n"]))),z=b.ZP.button(d||(d=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 10px;\n\n  width: 100%;\n  max-width: 100px;\n  height: 35px;\n  padding: 5px;\n  background-color: var(--button-color);\n  color: white;\n  cursor: pointer;\n  user-select: none;\n  border: solid 1px black;\n  border-radius: 3px;\n\n  justify-self: end;\n\n  @media (max-width: 450px) {\n    width: 40px;\n    font-size: 22px;\n    & span {\n      display: none;\n    }\n  }\n"]))),R=t(4164),F=b.ZP.div(c||(c=(0,f.Z)(["\n  position: fixed;\n  z-index: 3;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 50px;\n  background-color: rgba(0, 0, 0, 0.466);\n"]))),N=b.ZP.div(s||(s=(0,f.Z)(["\n  position: absolute;\n  width: 100%;\n  max-width: 70vw;\n  max-height: 50vh;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 25px;\n  background-color: #fff;\n\n  @media screen and (min-width: 768px) {\n    max-width: 768px;\n  }\n\n  @media screen and (min-width: 1200px) {\n    max-width: 1200px;\n  }\n"]))),_=b.ZP.button(u||(u=(0,f.Z)(["\n  position: absolute;\n  top: -50px;\n  right: -10px;\n\n  width: 30px;\n  height: 30px;\n  border: none;\n  border-radius: 50%;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  cursor: pointer;\n"]))),A=function(n){var e=n.onClose,t=n.children;(0,C.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(n){"Escape"===n.code&&e()};return(0,R.createPortal)((0,Z.jsx)(F,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,Z.jsxs)(N,{children:[t,(0,Z.jsx)(_,{type:"button",children:"x",onClick:function(){return e()}})]})}),document.getElementById("modal-portal"))},I=b.ZP.form(l||(l=(0,f.Z)(["\n  padding: 5px;\n\n  display: grid;\n  grid-template-areas:\n    'rowName buttonSubmit'\n    'rowNumber buttonSubmit';\n\n  grid-gap: 20px;\n\n  @media (max-width: 480px) {\n    grid-gap: 10px;\n    grid-template-areas:\n      'rowName '\n      'rowNumber'\n      'buttonSubmit';\n  }\n"]))),H=b.ZP.label(p||(p=(0,f.Z)(["\n  display: inline-flex;\n  justify-content: space-between;\n  column-gap: 20px;\n\n  font-weight: 700;\n  font-size: 1.5em;\n\n  & input {\n    width: 100%;\n    max-width: 300px;\n    min-width: 175px;\n  }\n"]))),O=(0,b.ZP)(H)(x||(x=(0,f.Z)(["\n  grid-area: rowName;\n"]))),$=(0,b.ZP)(H)(h||(h=(0,f.Z)(["\n  grid-area: rowNumber;\n"]))),B=b.ZP.button(m||(m=(0,f.Z)(["\n  grid-area: buttonSubmit;\n  margin-left: auto;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 20px;\n\n  padding: 5px 15px;\n  width: 100%;\n  max-width: 200px;\n\n  font-size: 20px;\n  color: white;\n  background-color: var(--button-color);\n\n  user-select: none;\n  border: solid 1px black;\n  border-radius: 3px;\n  cursor: pointer;\n\n  & svg {\n    width: 30px;\n    height: 30px;\n  }\n\n  @media (max-width: 768px) {\n    font-size: 16px;\n    column-gap: 10px;\n  }\n\n  @media (max-width: 550px) {\n    & span {\n      display: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    font-size: 16px;\n    width: 60px;\n    height: 60px;\n  }\n"]))),D=t(1413),M=t(9059),T=function(n){var e=n.contactId,t=n.closeForm,r=n.name,i=n.number,o=(0,g.v9)(w.Rg.endpoints.getAllContacts.select()).data,a=(0,C.useState)(r),d=(0,y.Z)(a,2),c=d[0],s=d[1],u=(0,C.useState)(i),l=(0,y.Z)(u,2),p=l[0],x=l[1],h=(0,w.Lr)(),m=(0,y.Z)(h,1)[0],f=(0,w.i)(),b=(0,y.Z)(f,1)[0];return[c,s,p,x,function(n){n.preventDefault();var r=null===o||void 0===o?void 0:o.find((function(n){var e=n.name;return n.number===p&&e.toLowerCase()===c.toLowerCase()})),i=null===o||void 0===o?void 0:o.find((function(n){return n.name.toLowerCase()===c.toLowerCase()})),a={name:c,number:p};e?r?M.F.notifyERROR("Contact is already exist!"):function(n){b((0,D.Z)({id:e},n)).unwrap().then((function(){return M.F.notifySUCCESS("".concat(c," updated"))})).catch((function(n){return M.F.notifyERROR("Something went wrong. Eroor: ".concat(n.status))})),t()}(a):e||(i?M.F.notifyERROR("".concat(c," already exist!")):function(n){m(n).unwrap().then((function(){return M.F.notifySUCCESS("New contact for ".concat(c," added"))})).catch((function(n){return M.F.notifyERROR("Something went wrong. Eroor: ".concat(n.status))})),s(""),x("")}(a))}]};function q(n){var e=n.contactId,t=n.closeForm,r=n.name,i=void 0===r?"":r,o=n.number,a=T({contactId:e,closeForm:t,name:i,number:void 0===o?"":o}),d=(0,y.Z)(a,5),c=d[0],s=d[1],u=d[2],l=d[3],p=d[4];return(0,Z.jsxs)(I,{onSubmit:p,children:[(0,Z.jsxs)(O,{children:["Name",(0,Z.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only contain letters, an apostrophe, a dash, and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan, etc.",onChange:function(n){return s(n.target.value)},value:c,required:!0})]}),(0,Z.jsxs)($,{children:["Phone",(0,Z.jsx)("input",{type:"tel",name:"number",onChange:function(n){return l(n.target.value)},value:u,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"The phone number must be numeric and may contain spaces, dashes, parentheses, and may begin with +",required:!0})]}),(0,Z.jsx)("br",{}),(0,Z.jsx)(B,{type:"submit",children:e?(0,Z.jsx)("span",{children:"Save changes"}):(0,Z.jsxs)("span",{children:[(0,Z.jsx)(P.$3V,{})," Add contact"]})})]})}var U,W=t(6140),J=function(n){var e=n.contact,t=e.id,r=e.name,i=e.number,o=(0,C.useState)(!1),a=(0,y.Z)(o,2),d=a[0],c=a[1],s=(0,w.Nt)(),u=(0,y.Z)(s,2),l=u[0],p=u[1].isLoading;return(0,Z.jsxs)(S,{id:t,children:[(0,Z.jsxs)(E,{children:[r,":"]}),(0,Z.jsxs)(L,{href:"tel: "+i,children:[(0,Z.jsx)(P.twy,{})," ",i]}),(0,Z.jsxs)(z,{type:"button",onClick:function(){return l(t).then((function(){return n="".concat(r," successfuly deleted!"),W.ZP.success(n);var n})).catch((function(){return n="Something went wrong",W.ZP.error(n);var n}))},disabled:p,children:[(0,Z.jsx)(k.YK6,{})," ",(0,Z.jsx)("span",{children:p?"...Deleting":"Delete"})]}),(0,Z.jsxs)(z,{type:"button",onClick:function(){return c(!d)},children:[(0,Z.jsx)(k.QML,{})," ",(0,Z.jsx)("span",{children:"Edit"})]}),d&&(0,Z.jsx)(A,{onClose:c,children:(0,Z.jsx)(q,{closeForm:c,contactId:t,name:r,number:i})})]})},K=b.ZP.ul(U||(U=(0,f.Z)(["\n  width: 100%;\n  max-width: 440px;\n  margin: 0 auto;\n"]))),Q=function(){var n=(0,w.bC)(),e=n.data,t=n.isLoading,r=n.isSuccess,i=n.isError,o=n.error,a=(0,g.v9)((function(n){return n.filter})),d=(0,C.useMemo)((function(){var n=a.toLowerCase();return null===e||void 0===e?void 0:e.filter((function(e){return e.name.toLowerCase().includes(n)}))}),[e,a]);return t?(0,Z.jsx)("p",{children:"...Loading contacts"}):r&&e?(0,Z.jsx)(K,{children:d.map((function(n){return(0,Z.jsx)(J,{contact:n},n.id)}))}):i?(0,Z.jsx)("p",{children:o.message}):void 0},V=t(2702),Y=function(){var n=(0,w.bC)(),e=n.isLoading,t=n.isSuccess;return(0,Z.jsx)("main",{children:(0,Z.jsxs)(V.W,{children:[(0,Z.jsx)(V.H1,{children:"Phone book"}),(0,Z.jsx)(q,{}),e&&(0,Z.jsx)("p",{children:"...Loading"}),t&&(0,Z.jsxs)(V.$,{children:[(0,Z.jsx)(V.H2,{children:"\u0421ontacts"}),(0,Z.jsx)(j,{}),(0,Z.jsx)(Q,{})]})]})})},G=Y},1543:function(n,e,t){t.r(e),t.d(e,{default:function(){return r.default}});var r=t(9795)}}]);
//# sourceMappingURL=543.71ad3662.chunk.js.map