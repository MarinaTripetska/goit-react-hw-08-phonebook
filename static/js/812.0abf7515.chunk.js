"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[812,686,680,673,604,543,263,657,368],{680:function(n,e,t){t.r(e);var r=t(184);e.default=function(){return(0,r.jsx)("main",{children:(0,r.jsx)("div",{children:"Main page"})})}},1686:function(n,e,t){t.r(e),t.d(e,{default:function(){return r.default}});var r=t(680)},1604:function(n,e,t){t.r(e),t.d(e,{default:function(){return c}});var r=t(885),a=t(2791),i=t(5048),o=t(8979),u=t(184),s=function(){var n=(0,i.I0)(),e=(0,a.useState)(""),t=(0,r.Z)(e,2),s=t[0],c=t[1],d=(0,a.useState)(""),l=(0,r.Z)(d,2),p=l[0],x=l[1],m=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"email":return c(r);case"password":return x(r);default:return}};return(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(o.r5.logIn({email:s,password:p})),c(""),x("")},children:[(0,u.jsx)("input",{type:"email",name:"email",value:s,onChange:m}),(0,u.jsx)("input",{type:"password",name:"password",value:p,onChange:m}),(0,u.jsx)("button",{type:"subbmit",children:"Log in"})]})},c=function(){return(0,u.jsx)("main",{children:(0,u.jsx)(s,{})})}},7673:function(n,e,t){t.r(e),t.d(e,{default:function(){return r.default}});var r=t(1604)},1263:function(n,e,t){t.r(e),t.d(e,{PhoneBookPage:function(){return on},default:function(){return un}});var r,a,i,o,u,s,c,d,l,p,x,m,f=t(168),h=t(5048),g=t(1799),w=t(6031),b=t(184),v=w.ZP.label(r||(r=(0,f.Z)(["\n  margin-bottom: 50px;\n\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 10px;\n\n  font-weight: 600;\n  & input {\n    margin-left: 15px;\n  }\n"]))),j=function(){var n=(0,h.v9)((function(n){return n.filter})),e=(0,h.I0)();return(0,b.jsxs)(v,{children:["Find contacts by name",(0,b.jsx)("input",{type:"text",onChange:function(n){return e((0,g.ko)(n.target.value))},value:n})]})},Z=t(885),y=t(2791),P=t(6856),C=t(8820),k=w.ZP.li(a||(a=(0,f.Z)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  column-gap: 30px;\n\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  @media (max-width: 450px) {\n    column-gap: 15px;\n  }\n"]))),S=w.ZP.span(i||(i=(0,f.Z)(["\n  font-weight: 600;\n  font-size: 1em;\n"]))),L=w.ZP.a(o||(o=(0,f.Z)(["\n  white-space: nowrap;\n  color: inherit;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  column-gap: 7px;\n"]))),z=w.ZP.button(u||(u=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 10px;\n\n  width: 100%;\n  max-width: 100px;\n  height: 35px;\n  padding: 5px;\n  background-color: var(--button-color);\n  color: white;\n  cursor: pointer;\n  user-select: none;\n  border: solid 1px black;\n  border-radius: 3px;\n\n  justify-self: end;\n\n  @media (max-width: 450px) {\n    width: 40px;\n    font-size: 22px;\n    & span {\n      display: none;\n    }\n  }\n"]))),I=t(4164),N=w.ZP.div(s||(s=(0,f.Z)(["\n  position: fixed;\n  z-index: 3;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 50px;\n  background-color: rgba(0, 0, 0, 0.466);\n"]))),A=w.ZP.div(c||(c=(0,f.Z)(["\n  position: absolute;\n  width: 100%;\n  max-width: 100vw;\n  max-height: 100vh;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  @media screen and (min-width: 768px) {\n    max-width: 768px;\n  }\n\n  @media screen and (min-width: 1200px) {\n    max-width: 1200px;\n  }\n"]))),E=function(n){var e=n.onClose,t=n.children;(0,y.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(n){"Escape"===n.code&&e()};return(0,I.createPortal)((0,b.jsx)(N,{onClick:function(n){n.currentTarget===n.target&&e()},children:(0,b.jsxs)(A,{children:[t,(0,b.jsx)("button",{type:"button",onClick:function(){return e()},children:"X"})]})}),document.getElementById("modal-portal"))},_=w.ZP.form(d||(d=(0,f.Z)(["\n  padding: 5px;\n\n  display: grid;\n  grid-template-areas:\n    'rowName buttonSubmit'\n    'rowNumber buttonSubmit';\n\n  grid-gap: 20px;\n\n  @media (max-width: 480px) {\n    grid-gap: 10px;\n    grid-template-areas:\n      'rowName '\n      'rowNumber'\n      'buttonSubmit';\n  }\n"]))),F=w.ZP.label(l||(l=(0,f.Z)(["\n  display: inline-flex;\n  justify-content: space-between;\n  column-gap: 20px;\n\n  font-weight: 700;\n  font-size: 1.5em;\n\n  & input {\n    width: 100%;\n    max-width: 300px;\n    min-width: 175px;\n  }\n"]))),D=(0,w.ZP)(F)(p||(p=(0,f.Z)(["\n  grid-area: rowName;\n"]))),R=(0,w.ZP)(F)(x||(x=(0,f.Z)(["\n  grid-area: rowNumber;\n"]))),B=w.ZP.button(m||(m=(0,f.Z)(["\n  grid-area: buttonSubmit;\n  margin-left: auto;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  column-gap: 20px;\n\n  padding: 5px 15px;\n  width: 100%;\n  max-width: 200px;\n\n  font-size: 20px;\n  color: white;\n  background-color: var(--button-color);\n\n  user-select: none;\n  border: solid 1px black;\n  border-radius: 3px;\n  cursor: pointer;\n\n  & svg {\n    width: 30px;\n    height: 30px;\n  }\n\n  @media (max-width: 768px) {\n    font-size: 16px;\n    column-gap: 10px;\n  }\n\n  @media (max-width: 550px) {\n    & span {\n      display: none;\n    }\n  }\n\n  @media (max-width: 480px) {\n    font-size: 16px;\n    width: 60px;\n    height: 60px;\n  }\n"]))),M=t(1413),T=t(6140),q=function(n){return T.ZP.error(n)},$=function(n){return T.ZP.success(n)},H=function(n){var e=n.contactId,t=n.closeForm,r=n.name,a=n.number,i=(0,h.v9)(g.Rg.endpoints.getAllContacts.select()).data,o=(0,y.useState)(r),u=(0,Z.Z)(o,2),s=u[0],c=u[1],d=(0,y.useState)(a),l=(0,Z.Z)(d,2),p=l[0],x=l[1],m=(0,g.Lr)(),f=(0,Z.Z)(m,1)[0],w=(0,g.i)(),b=(0,Z.Z)(w,1)[0];return[s,c,p,x,function(n){n.preventDefault();var r=null===i||void 0===i?void 0:i.find((function(n){var e=n.name;return n.number===p&&e.toLowerCase()===s.toLowerCase()})),a=null===i||void 0===i?void 0:i.find((function(n){return n.name.toLowerCase()===s.toLowerCase()})),o={name:s,number:p};e?r?q("Contact is already exist!"):function(n){b((0,M.Z)({id:e},n)).unwrap().then((function(){return $("".concat(s," updated"))})).catch((function(n){return q("Something went wrong. Eroor: ".concat(n.status))})),t()}(o):e||(a?q("".concat(s," already exist!")):function(n){f(n).unwrap().then((function(){return $("New contact for ".concat(s," added"))})).catch((function(n){return q("Something went wrong. Eroor: ".concat(n.status))})),c(""),x("")}(o))}]};function J(n){var e=n.contactId,t=n.closeForm,r=n.name,a=void 0===r?"":r,i=n.number,o=H({contactId:e,closeForm:t,name:a,number:void 0===i?"":i}),u=(0,Z.Z)(o,5),s=u[0],c=u[1],d=u[2],l=u[3],p=u[4];return(0,b.jsxs)(_,{onSubmit:p,children:[(0,b.jsxs)(D,{children:["Name",(0,b.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only contain letters, an apostrophe, a dash, and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan, etc.",onChange:function(n){return c(n.target.value)},value:s,required:!0})]}),(0,b.jsxs)(R,{children:["Phone",(0,b.jsx)("input",{type:"tel",name:"number",onChange:function(n){return l(n.target.value)},value:d,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"The phone number must be numeric and may contain spaces, dashes, parentheses, and may begin with +",required:!0})]}),(0,b.jsx)("br",{}),(0,b.jsx)(B,{type:"submit",children:e?(0,b.jsx)("span",{children:"Save changes"}):(0,b.jsxs)("span",{children:[(0,b.jsx)(P.$3V,{})," Add contact"]})})]})}var K,Q,V,X,Y,G,O=function(n){var e=n.contact,t=e.id,r=e.name,a=e.number,i=(0,y.useState)(!1),o=(0,Z.Z)(i,2),u=o[0],s=o[1],c=(0,g.Nt)(),d=(0,Z.Z)(c,2),l=d[0],p=d[1].isLoading;return(0,b.jsxs)(k,{id:t,children:[(0,b.jsxs)(S,{children:[r,":"]}),(0,b.jsxs)(L,{href:"tel: "+a,children:[(0,b.jsx)(P.twy,{})," ",a]}),(0,b.jsxs)(z,{type:"button",onClick:function(){return l(t).then((function(){return n="".concat(r," successfuly deleted!"),T.ZP.success(n);var n})).catch((function(){return n="Something went wrong",T.ZP.error(n);var n}))},disabled:p,children:[(0,b.jsx)(C.YK6,{})," ",(0,b.jsx)("span",{children:p?"...Deleting":"Delete"})]}),(0,b.jsxs)(z,{type:"button",onClick:function(){return s(!u)},children:[(0,b.jsx)(C.QML,{})," ",(0,b.jsx)("span",{children:"Edit"})]}),u&&(0,b.jsx)(E,{onClose:s,children:(0,b.jsx)(J,{closeForm:s,contactId:t,name:r,number:a})})]})},U=t(9070),W=w.ZP.ul(K||(K=(0,f.Z)(["\n  width: 100%;\n  max-width: 440px;\n  margin: 0 auto;\n"]))),nn=function(){var n=(0,h.v9)(U.Rg.endpoints.getAllContacts.select()).data,e=(0,h.v9)((function(n){return n.filter}));return(0,b.jsx)(W,{children:function(){var t=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))}().map((function(n){return(0,b.jsx)(O,{contact:n},n.id)}))})},en=(w.ZP.div(Q||(Q=(0,f.Z)(["\n  margin: 50px auto;\n  border: solid 1px black;\n  max-width: 800px;\n  padding: 30px;\n"]))),(0,w.iv)(V||(V=(0,f.Z)(["\n  text-align: center;\n  margin-bottom: 45px;\n"])))),tn=w.ZP.h1(X||(X=(0,f.Z)(["\n  font-size: 24px;\n\n  ","\n"])),en),rn=w.ZP.h1(Y||(Y=(0,f.Z)(["\n  font-size: 18px;\n\n  ","\n"])),en),an=w.ZP.section(G||(G=(0,f.Z)(["\n  background-color: rgb(208, 213, 247);\n  padding: 25px;\n  border-radius: 5px;\n"]))),on=function(){var n=(0,g.bC)(),e=n.isLoading,t=n.isSuccess;return(0,b.jsxs)("main",{children:[(0,b.jsx)(tn,{children:"Phone book"}),(0,b.jsx)(J,{}),e&&(0,b.jsx)("p",{children:"...Loading"}),t&&(0,b.jsxs)(an,{children:[(0,b.jsx)(rn,{children:"\u0421ontacts"}),(0,b.jsx)(j,{}),(0,b.jsx)(nn,{})]})]})},un=on},1543:function(n,e,t){t.r(e),t.d(e,{default:function(){return r.default}});var r=t(1263)},3368:function(n,e,t){t.r(e),t.d(e,{RegistrationPage:function(){return c},default:function(){return d}});var r=t(885),a=t(2791),i=t(5048),o=t(8979),u=t(184),s=function(){var n=(0,i.I0)(),e=(0,a.useState)(""),t=(0,r.Z)(e,2),s=t[0],c=t[1],d=(0,a.useState)(""),l=(0,r.Z)(d,2),p=l[0],x=l[1],m=(0,a.useState)(""),f=(0,r.Z)(m,2),h=f[0],g=f[1],w=function(n){var e=n.target,t=e.name,r=e.value;"name"===t&&c(r),"email"===t&&x(r),"password"===t&&g(r)};return(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(o.r5.register({name:s,email:p,password:h})),c(""),x(""),g("")},children:[(0,u.jsx)("input",{type:"text",name:"name",value:s,onChange:w}),(0,u.jsx)("input",{type:"email",name:"email",value:p,onChange:w}),(0,u.jsx)("input",{type:"password",name:"password",value:h,onChange:w}),(0,u.jsx)("button",{type:"subbmit",children:"Register"})]})},c=function(){return(0,u.jsx)("main",{children:(0,u.jsx)(s,{})})},d=c},7657:function(n,e,t){t.r(e),t.d(e,{default:function(){return r.default}});var r=t(3368)},4812:function(n,e,t){t.r(e),t.d(e,{HomePage:function(){return r.default},LoginPage:function(){return o.default},PhoneBookPage:function(){return i.default},RegistrationPage:function(){return a.default}});var r=t(1686),a=t(7657),i=t(1543),o=t(7673)}}]);
//# sourceMappingURL=812.0abf7515.chunk.js.map